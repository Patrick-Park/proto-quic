--- net/disk_cache/blockfile/mapped_file.h
+++ net/disk_cache/blockfile/mapped_file.h
@@ -13,6 +13,7 @@
 #include "net/base/net_export.h"
 #include "net/disk_cache/blockfile/file.h"
 #include "net/disk_cache/blockfile/file_block.h"
+#include "net/net_features.h"
 
 namespace base {
 class FilePath;
@@ -57,7 +58,7 @@
 #endif
   void* buffer_;  // Address of the memory mapped buffer.
   size_t view_size_;  // Size of the memory pointed by buffer_.
-#if defined(POSIX_AVOID_MMAP)
+#if BUILDFLAG(POSIX_AVOID_MMAP)
   void* snapshot_;  // Copy of the buffer taken when it was last flushed.
 #endif
 
